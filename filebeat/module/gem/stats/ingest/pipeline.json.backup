{
  "description": "Pipeline for parsing gem stats logs",
  "processors": [
	  {
		  "grok": {
			  "field": "message",
			  "patterns": [
				"%{Begin_Simulation_Statistics}%{ANY_CHARACTOR:gem5.stats.message}%{End_Simulation_Statistics}"
			  ],
			  "pattern_definitions": {
				  "Begin_Simulation_Statistics": "%{SPACE}-+%{SPACE}Begin Simulation Statistics%{SPACE}-+%{SPACE}",
				  "End_Simulation_Statistics": "-+%{SPACE}End Simulation Statistics%{SPACE}-+%{SPACE}",
				  "ANY_CHARACTOR": "[^-]*"
			  },
			  "ignore_missing": true
		  }
	  },
	  {
		  "remove": {
			  "field": "message",
			  "ignore_missing": true
		  }
	  }
    ],
  "on_failure" : [{
    "set" : {
      "field" : "error.message",
      "value" : "{{ _ingest.on_failure_message }}"
    }
  }]
}
